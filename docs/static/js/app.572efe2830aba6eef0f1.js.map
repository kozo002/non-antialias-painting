{"version":3,"sources":["webpack:///./src/StampMaker.js","webpack:///./src/PxBrush.js","webpack:///src/App.vue","webpack:///./src/App.vue?8906","webpack:///./src/App.vue","webpack:///./src/main.js","webpack:///./src/assets/11.gif"],"names":["HexPattern","RGBPattern","StampMaker","classCallCheck_default","this","canvases","color","isHex","test","isRGB","Error","c","slice","length","split","reduce","acc","it","concat","toConsumableArray_default","join","r","parseInt","g","b","_color$replace$split$","replace","map","_color$replace$split$2","slicedToArray_default","size","_ref","_color","parseColor","_strColor","stringify_default","canvas","document","createElement","width","height","context","getContext","imageData","createImageData","i","data","plotCircle","fillCircle","putImageData","xm","ym","x","y","err","ii","iii","iv","cols","row","isHitColor","isHitClear","isEnded","col","index","alpha","isColor","PxBrush","stampMaker","isMouseDown","startPosition","point1","point2","Math","sqrt","pow","atan2","from","to","globalCompositeOperation","brush","_ref2","_this","_ref3","halfSize","stamp","make","dist","distanceBetween","angle","angleBetween","_loop","sin","cos","window","requestAnimationFrame","drawImage","round","Mode","Brush","Eraser","App","name","stageConfig","brushCursorConfig","fill","strokeWidth","perfectDrawEnabled","isMouseOver","currentMode","isPainting","beginningPosition","isSimple","isSimpleStamp","created","addEventListener","handleWindowResize","exampleImage","Image","src","_1_default","a","innerWidth","pxBrush","src_PxBrush","mounted","$nextTick","$el","querySelectorAll","forEach","setAttribute","beforeDestroy","removeEventListener","computed","canvasOperation","methods","extends_default","handleStageMouseOver","handleStageMouseOut","handleStageMouseMove","e","position","$refs","stage","getStage","getPointerPosition","innerRadius","outerRadius","imageSmoothingEnabled","strokeStyle","lineWidth","lineJoin","beginPath","_beginningPosition","startX","startY","moveTo","destX","destY","lineTo","closePath","stroke","draw","erase","paintingCanvas","batchDraw","handleBrushRadioButtonChange","target","checked","handleEraserRadioButtonChange","handleStageMouseDown","handleStageMouseUp","handleSizeChange","value","handleColorChange","selectortype_template_index_0_src_App","render","_vm","_h","$createElement","_c","_self","attrs","id","ref","staticClass","config","image","on","mouseover","mouseout","mousemove","mousedown","mouseup","_e","_v","staticStyle","margin-bottom","type","domProps","change","text-align","min","max","step","input","_s","staticRenderFns","src_App","__webpack_require__","normalizeComponent","ssrContext","Vue","productionTip","use","VueKonva","el","components","template","module","exports"],"mappings":"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","file":"static/js/app.572efe2830aba6eef0f1.js","sourcesContent":["const HexPattern = /^#?[0-9A-Fa-f]{1,2}[0-9A-Fa-f]{1,2}[0-9A-Fa-f]{1,2}$/\nconst RGBPattern = /^rgb\\((\\s+)?[0-9]{1,3},(\\s+)?[0-9]{1,3},(\\s+)?[0-9]{1,3}(\\s+)?\\)$/\n\nexport default class StampMaker {\n  constructor () {\n    this.canvases = {}\n  }\n\n  parseColor (color) {\n    const isHex = HexPattern.test(color)\n    const isRGB = RGBPattern.test(color)\n    if (!isHex && !isRGB) {\n      throw new Error('Color is not correct format. #123123 or rgb(123, 123, 123) format required.')\n    }\n    if (isHex) {\n      let c = color[0] === '#' ? color.slice(1) : color\n      c = c.length === 3\n        ? c.split('').reduce((acc, it) => [...acc, it, it], []).join('')\n        : c\n      const r = parseInt(c.slice(0, 2), 16)\n      const g = parseInt(c.slice(2, 4), 16)\n      const b = parseInt(c.slice(4, 6), 16)\n      return { r, g, b }\n    }\n    if (isRGB) {\n      let [r, g, b] = color\n        .replace(/rgb|\\s+|\\(|\\)/g, '')\n        .split(',')\n        .map(it => parseInt(it))\n      r = r > 255 ? 255 : r\n      g = g > 255 ? 255 : g\n      b = b > 255 ? 255 : b\n      return { r, g, b }\n    }\n  }\n\n  make ({ size, color }) {\n    const _color = this.parseColor(color)\n    const _strColor = JSON.stringify(_color)\n    this.canvases[_strColor] = this.canvases[_strColor] || {}\n\n    if (this.canvases[_strColor][size] != null) {\n      return this.canvases[_strColor][size]\n    }\n    const canvas = document.createElement('canvas')\n    size = size + (size % 2)\n    canvas.width = size\n    canvas.height = size\n\n    const context = canvas.getContext('2d')\n    const imageData = context.createImageData(size, size)\n    for (let i = 0; i < imageData.data.length; i += 4) {\n      imageData.data[i] = 255\n      imageData.data[i + 1] = 255\n      imageData.data[i + 2] = 255\n      imageData.data[i + 3] = 0\n    }\n    this.plotCircle(size * 2, (size * 4) * (size / 2), size / 2, imageData, size, _color)\n    this.fillCircle(imageData, _color)\n    context.putImageData(imageData, 0, 0)\n    this.canvases[_strColor][size] = canvas\n    return canvas\n  }\n\n  plotCircle (xm, ym, r, imageData, size, color) {\n    let x = -r\n    let y = 0\n    let err = 2 - 2 * r /* bottom left to top right */\n\n    do {\n      /*   I. Quadrant +x +y */\n      const i = xm - ((x + 1) * 4) + (ym + ((y - 1) * (size * 4)))\n      imageData.data[i + 0] = color.r\n      imageData.data[i + 1] = color.g\n      imageData.data[i + 2] = color.b\n      imageData.data[i + 3] = 255\n      /*  II. Quadrant -x +y */\n      const ii = xm - (y * (size * 4)) + (ym - ((x + 1) * 4))\n      imageData.data[ii + 0] = color.r\n      imageData.data[ii + 1] = color.g\n      imageData.data[ii + 2] = color.b\n      imageData.data[ii + 3] = 255\n      /* III. Quadrant -x -y */\n      const iii = (xm + (x * 4)) + (ym - (y * (size * 4)))\n      imageData.data[iii + 0] = color.r\n      imageData.data[iii + 1] = color.g\n      imageData.data[iii + 2] = color.b\n      imageData.data[iii + 3] = 255\n      /*  IV. Quadrant +x -y */\n      const iv = (xm + ((y - 1) * (size * 4))) + (ym + (x * 4))\n      imageData.data[iv + 0] = color.r\n      imageData.data[iv + 1] = color.g\n      imageData.data[iv + 2] = color.b\n      imageData.data[iv + 3] = 255\n      r = err\n      if (r <= y) {\n        err += ++y * 2 + 1 /* y step */\n      }\n      if (r > x || err > y) {\n        err += ++x * 2 + 1 /* x step */\n      }\n    } while (x < 0)\n  }\n\n  fillCircle (imageData, color) {\n    const cols = imageData.width * 4\n    for (let row = 1; row < imageData.height - 1; row += 1) {\n      let isHitColor = false\n      let isHitClear = false\n      let isEnded = false\n      for (let col = 0; col < cols; col += 4) {\n        const index = cols * row + col\n        const alpha = imageData.data[index + 3]\n        const isColor = alpha === 255\n        const isClear = alpha === 0\n        if (isColor && !isHitColor) {\n          isHitColor = true\n        } else if (isClear && isHitColor) {\n          isHitClear = true\n        } else if (isColor && isHitColor && isHitClear) {\n          isEnded = true\n        }\n        if (isHitColor && isHitClear && !isEnded) {\n          imageData.data[index] = color.r\n          imageData.data[index + 1] = color.g\n          imageData.data[index + 2] = color.b\n          imageData.data[index + 3] = 255\n        }\n      }\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/StampMaker.js","import StampMaker from './StampMaker'\n\nexport default class PxBrush {\n  constructor (canvas) {\n    this.canvas = canvas\n    this.context = canvas.getContext('2d')\n    this.stampMaker = new StampMaker()\n    this.isMouseDown = false\n    this.startPosition = null\n  }\n\n  distanceBetween (point1, point2) {\n    return Math.sqrt(Math.pow(point2.x - point1.x, 2) + Math.pow(point2.y - point1.y, 2))\n  }\n\n  angleBetween (point1, point2) {\n    return Math.atan2(point2.x - point1.x, point2.y - point1.y)\n  }\n\n  draw ({ from, to, size, color }) {\n    this.context.globalCompositeOperation = 'source-over'\n    this.brush({ from, to, size, color })\n  }\n\n  erase ({ from, to, size }) {\n    this.context.globalCompositeOperation = 'destination-out'\n    this.brush({ from, to, size, color: '#000000' })\n  }\n\n  brush ({ from, to, size, color }) {\n    const halfSize = (size - (size % 2)) / 2\n    const stamp = this.stampMaker.make({ size, color })\n    if (from.x === to.x && from.y === to.y) {\n      const x = from.x - halfSize\n      const y = from.y - halfSize\n      this.context.drawImage(stamp, Math.round(x), Math.round(y))\n      return\n    }\n    const dist = this.distanceBetween(from, to)\n    const angle = this.angleBetween(from, to)\n    for (let i = 0; i < dist; i += 1) {\n      const x = from.x + (Math.sin(angle) * i) - halfSize\n      const y = from.y + (Math.cos(angle) * i) - halfSize\n      window.requestAnimationFrame(() => {\n        this.context.drawImage(stamp, Math.round(x), Math.round(y))\n      })\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/PxBrush.js","<template>\n  <div id=\"app\">\n    <v-stage\n      class=\"stage\"\n      ref=\"stage\"\n      :config=\"stageConfig\"\n    >\n      <v-layer ref=\"paintingCanvas\">\n        <v-image\n          v-if=\"canvas\"\n          :config=\"{\n            image: canvas,\n            x: 0,\n            y: 0,\n            width: stageConfig.width,\n            height: stageConfig.height,\n          }\"\n          @mouseover=\"handleStageMouseOver\"\n          @mouseout=\"handleStageMouseOut\"\n          @mousemove=\"handleStageMouseMove\"\n          @mousedown=\"handleStageMouseDown\"\n          @mouseup=\"handleStageMouseUp\"\n        />\n        <v-arc\n          :config=\"brushCursorConfig\"\n        />\n      </v-layer>\n    </v-stage>\n    <div style=\"margin-bottom:100px\">\n      <label>\n        <input\n          type=\"radio\"\n          name=\"mode\"\n          :checked=\"currentMode === Mode.Brush\"\n          @change=\"handleBrushRadioButtonChange\"\n        />\n        Brush\n      </label>\n      <label>\n        <input\n          type=\"radio\"\n          name=\"mode\"\n          :checked=\"currentMode === Mode.Eraser\"\n          @change=\"handleEraserRadioButtonChange\"\n        />\n        Eraser\n      </label>\n    </div>\n    <div style=\"text-align:left\">\n      Size\n      <input\n        type=\"range\"\n        min=\"1\"\n        max=\"100\"\n        step=\"1\"\n        :value=\"size\"\n        @input=\"handleSizeChange\"\n      />\n      {{size}}\n      /\n      Color\n      <input\n        type=\"color\"\n        :value=\"color\"\n        @change=\"handleColorChange\"\n      />\n    </div>\n  </div>\n</template>\n\n<script>\nimport circle from './assets/11.gif'\nimport PxBrush from './PxBrush'\n\nconst Mode = {\n  Brush: 'brush',\n  Eraser: 'eraser'\n}\n\nexport default {\n  name: 'App',\n\n  data: () => ({\n    stageConfig: {},\n    size: 11,\n    color: '#000000',\n    brushCursorConfig: {\n      fill: '#000000',\n      strokeWidth: 0,\n      x: 0,\n      y: 0,\n      perfectDrawEnabled: false,\n      angle: 360\n    },\n    isMouseOver: false,\n    Mode,\n    currentMode: Mode.Brush,\n    isPainting: false,\n    beginningPosition: null,\n    canvas: null,\n    context: null,\n    isSimple: false,\n    isSimpleStamp: false\n  }),\n\n  created () {\n    window.addEventListener('resize', this.handleWindowResize)\n\n    this.exampleImage = new Image()\n    this.exampleImage.src = circle\n\n    this.canvas = document.createElement('canvas')\n    this.canvas.width = window.innerWidth\n    this.canvas.height = 500\n    this.context = this.canvas.getContext('2d')\n\n    this.pxBrush = new PxBrush(this.canvas)\n  },\n\n  mounted () {\n    this.$nextTick(() => {\n      this.handleWindowResize()\n\n      this.$el.querySelectorAll('canvas').forEach(canvas => {\n        canvas.setAttribute('moz-opeque', true)\n      })\n    })\n  },\n\n  beforeDestroy () {\n    window.removeEventListener('resize', this.handleWindowResize)\n  },\n\n  computed: {\n    canvasOperation () {\n      return this.currentMode === Mode.Brush\n        ? 'source-over'\n        : 'destination-out'\n    }\n  },\n\n  methods: {\n    handleWindowResize () {\n      this.stageConfig = {\n        ...this.stageConfig,\n        width: window.innerWidth,\n        height: 500\n      }\n    },\n\n    handleStageMouseOver () {\n      this.isMouseOver = true\n    },\n\n    handleStageMouseOut () {\n      this.isMouseOver = false\n      this.isPainting = false\n    },\n\n    handleStageMouseMove (e) {\n      const halfSize = (this.size - (this.size % 2)) / 2\n      const stage = this.$refs.stage.getStage()\n      const position = stage.getPointerPosition()\n      const innerRadius = halfSize - 1 < 0 ? 0 : halfSize - 1\n      const size = { innerRadius, outerRadius: halfSize }\n      this.brushCursorConfig = {\n        ...this.brushCursorConfig,\n        ...size,\n        x: Math.round(position.x),\n        y: Math.round(position.y)\n      }\n\n      if (!this.isPainting || !this.beginningPosition) { return false }\n\n      if (this.isSimple) {\n        this.context.imageSmoothingEnabled = false\n        this.context.strokeStyle = '#000'\n        this.context.lineWidth = this.size\n        this.context.lineJoin = 'round'\n        this.context.beginPath()\n        const { x: startX, y: startY } = this.beginningPosition\n        this.context.moveTo(startX, startY)\n        const { x: destX, y: destY } = position\n        this.context.lineTo(destX, destY)\n        this.context.closePath()\n        this.context.stroke()\n      } else if (this.isSimpleStamp) {\n        const x = position.x - halfSize\n        const y = position.y - halfSize\n        this.context.drawImage(this.exampleImage, Math.round(x), Math.round(y))\n      } else {\n        switch (this.currentMode) {\n          case Mode.Brush:\n            this.pxBrush.draw({\n              from: this.beginningPosition,\n              to: position,\n              size: this.size,\n              color: this.color\n            })\n            break\n          case Mode.Eraser:\n            this.pxBrush.erase({\n              from: this.beginningPosition,\n              to: position,\n              size: this.size,\n              color: this.color\n            })\n            break\n        }\n      }\n\n      this.$refs.paintingCanvas.getStage().batchDraw()\n      this.beginningPosition = position\n    },\n\n    handleBrushRadioButtonChange (e) {\n      if (e.target.checked) {\n        this.currentMode = Mode.Brush\n      }\n    },\n\n    handleEraserRadioButtonChange (e) {\n      if (e.target.checked) {\n        this.currentMode = Mode.Eraser\n      }\n    },\n\n    handleStageMouseDown () {\n      this.isPainting = true\n      this.beginningPosition = this.$refs.stage.getStage().getPointerPosition()\n      this.pxBrush.draw({\n        from: this.beginningPosition,\n        to: this.beginningPosition,\n        size: this.size,\n        color: this.color\n      })\n      this.$refs.paintingCanvas.getStage().batchDraw()\n    },\n\n    handleStageMouseUp () {\n      this.isPainting = false\n      this.beginningPosition = null\n    },\n\n    handleSizeChange (e) {\n      this.size = parseInt(e.target.value)\n    },\n\n    handleColorChange (e) {\n      this.color = e.target.value\n    }\n  }\n}\n</script>\n\n<style>\nbody {\n  margin: 0;\n  padding: 0;\n  background-color: #ddd;\n}\n\n#app {\n  font-family: 'Avenir', Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #2c3e50;\n}\n\n.stage {\n  background-color: #fff;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('v-stage',{ref:\"stage\",staticClass:\"stage\",attrs:{\"config\":_vm.stageConfig}},[_c('v-layer',{ref:\"paintingCanvas\"},[(_vm.canvas)?_c('v-image',{attrs:{\"config\":{\n          image: _vm.canvas,\n          x: 0,\n          y: 0,\n          width: _vm.stageConfig.width,\n          height: _vm.stageConfig.height,\n        }},on:{\"mouseover\":_vm.handleStageMouseOver,\"mouseout\":_vm.handleStageMouseOut,\"mousemove\":_vm.handleStageMouseMove,\"mousedown\":_vm.handleStageMouseDown,\"mouseup\":_vm.handleStageMouseUp}}):_vm._e(),_vm._v(\" \"),_c('v-arc',{attrs:{\"config\":_vm.brushCursorConfig}})],1)],1),_vm._v(\" \"),_c('div',{staticStyle:{\"margin-bottom\":\"100px\"}},[_c('label',[_c('input',{attrs:{\"type\":\"radio\",\"name\":\"mode\"},domProps:{\"checked\":_vm.currentMode === _vm.Mode.Brush},on:{\"change\":_vm.handleBrushRadioButtonChange}}),_vm._v(\"\\n      Brush\\n    \")]),_vm._v(\" \"),_c('label',[_c('input',{attrs:{\"type\":\"radio\",\"name\":\"mode\"},domProps:{\"checked\":_vm.currentMode === _vm.Mode.Eraser},on:{\"change\":_vm.handleEraserRadioButtonChange}}),_vm._v(\"\\n      Eraser\\n    \")])]),_vm._v(\" \"),_c('div',{staticStyle:{\"text-align\":\"left\"}},[_vm._v(\"\\n    Size\\n    \"),_c('input',{attrs:{\"type\":\"range\",\"min\":\"1\",\"max\":\"100\",\"step\":\"1\"},domProps:{\"value\":_vm.size},on:{\"input\":_vm.handleSizeChange}}),_vm._v(\"\\n    \"+_vm._s(_vm.size)+\"\\n    /\\n    Color\\n    \"),_c('input',{attrs:{\"type\":\"color\"},domProps:{\"value\":_vm.color},on:{\"change\":_vm.handleColorChange}})])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-591b3b4b\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-591b3b4b\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-591b3b4b\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from 'vue'\nimport VueKonva from 'vue-konva'\nimport App from './App'\n\nVue.config.productionTip = false\n\nVue.use(VueKonva)\n\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  components: { App },\n  template: '<App/>'\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","module.exports = \"data:image/gif;base64,R0lGODlhCwALAIABAAAAAP///yH/C1hNUCBEYXRhWE1QPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDUgNzkuMTYzNDk5LCAyMDE4LzA4LzEzLTE2OjQwOjIyICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdFJlZj0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlUmVmIyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgMjAxOSAoTWFjaW50b3NoKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDoyOTAyMTQ3MzFBRDExMUU5OEFCRUZDODNCQjA4ODY0RSIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDoyOTAyMTQ3NDFBRDExMUU5OEFCRUZDODNCQjA4ODY0RSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjI5MDIxNDcxMUFEMTExRTk4QUJFRkM4M0JCMDg4NjRFIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjI5MDIxNDcyMUFEMTExRTk4QUJFRkM4M0JCMDg4NjRFIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+Af/+/fz7+vn49/b19PPy8fDv7u3s6+rp6Ofm5eTj4uHg397d3Nva2djX1tXU09LR0M/OzczLysnIx8bFxMPCwcC/vr28u7q5uLe2tbSzsrGwr66trKuqqainpqWko6KhoJ+enZybmpmYl5aVlJOSkZCPjo2Mi4qJiIeGhYSDgoGAf359fHt6eXh3dnV0c3JxcG9ubWxramloZ2ZlZGNiYWBfXl1cW1pZWFdWVVRTUlFQT05NTEtKSUhHRkVEQ0JBQD8+PTw7Ojk4NzY1NDMyMTAvLi0sKyopKCcmJSQjIiEgHx4dHBsaGRgXFhUUExIREA8ODQwLCgkIBwYFBAMCAQAAIfkEAQAAAQAsAAAAAAsACwAAAhGMgWibze2gnLRaG+qD6zhTAAA7\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/11.gif\n// module id = ajhH\n// module chunks = 1"],"sourceRoot":""}